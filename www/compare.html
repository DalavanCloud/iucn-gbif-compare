<!DOCTYPE html>
<html>
  <head>
  	<meta charset="utf-8" />
  	<title>Compare species maps</title>
 	<style>	
 	.mydivicon{
		width: 12px
		height: 12px;
		border-radius: 10px;
		/* background: #408000; */
		background: #8000FF; 
		border: 1px solid #fff;
		opacity: 0.5
	}	  
    </style>

    <!-- jquery -->
    <script src="jquery-1.11.2.min.js" type="text/javascript"></script>
    
    <!-- leaflet -->
	<link rel="stylesheet" href="leaflet-0.7.3/leaflet.css" />
	<script src="leaflet-0.7.3/leaflet.js" type="text/javascript"></script>
	
	<script src="turf.min.js"></script>

	
	<script>
		var map1, map2;
		var geojson1, geojson2 = null;
		
		// http://gis.stackexchange.com/a/116193
		// http://jsfiddle.net/GFarkas/qzdr2w73/4/
		var icon = new L.divIcon({className: 'mydivicon'});		

		//--------------------------------------------------------------------------------
		function onEachFeature(feature, layer) {
			// does this feature have a property named popupContent?
			if (feature.properties && feature.properties.popupContent) {
				//console.log(feature.properties.popupContent);
				// content must be a string, see http://stackoverflow.com/a/22476287
				layer.bindPopup(String(feature.properties.popupContent));
			}
		}	
			
		//--------------------------------------------------------------------------------
		function create_maps() {
			map1 = new L.Map('map1');
			map2 = new L.Map('map2');

			// create the tile layer with correct attribution
			var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
			var osmAttrib='Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
			var osm1 = new L.TileLayer(osmUrl, {minZoom: 1, maxZoom: 12, attribution: osmAttrib});		

			map1.setView(new L.LatLng(0, 0),4);
			map1.addLayer(osm1);	
			
			var osm2 = new L.TileLayer(osmUrl, {minZoom: 1, maxZoom: 12, attribution: osmAttrib});	
			map2.setView(new L.LatLng(0, 0),4);
			map2.addLayer(osm2);		
		}
		
		//--------------------------------------------------------------------------------
		function clear_maps() {
			if (geojson1) {
				map1.removeLayer(geojson1);
			}
			
			if (geojson2) {
				map2.removeLayer(geojson2);
			}			
		}	
		
		//--------------------------------------------------------------------------------
		function add_data(map, data) {
			//clear_map();
		
			geojson = L.geoJson(data, { 

			pointToLayer: function (feature, latlng) {
                return L.marker(latlng, {
                    icon: icon});
            },			
			style: function (feature) {
				return feature.properties && feature.properties.style;
			},
			onEachFeature: onEachFeature,
			}).addTo(map);
			
			// Open popups on hover
  			geojson.on('mouseover', function (e) {
    			e.layer.openPopup();
  			});
  			
  			var features = [];
  			
  			if (data.features) {
  				features = data.features;
  			} else {
  				features.push(data);
  			}
  			
  			for (var k in features) {
  			
  				console.log(JSON.stringify(features[k], null, 2));
				
				if (features[k].geometry.type) {
					if (features[k].geometry.type == 'Polygon') {
						for (var i in features[k].geometry.coordinates) {
						  minx = 180;
						  miny = 90;
						  maxx = -180;
						  maxy = -90;
				  
						  for (var j in features[k].geometry.coordinates[i]) {
							minx = Math.min(minx, features[k].geometry.coordinates[i][j][0]);
							miny = Math.min(miny, features[k].geometry.coordinates[i][j][1]);
							maxx = Math.max(maxx, features[k].geometry.coordinates[i][j][0]);
							maxy = Math.max(maxy, features[k].geometry.coordinates[i][j][1]);
						  }
						}					
						bounds = L.latLngBounds(L.latLng(miny,minx), L.latLng(maxy,maxx));
						
					}
					if (features[k].geometry.type == 'MultiPoint') {
						minx = 180;
						miny = 90;
						maxx = -180;
						maxy = -90;				
						for (var i in features[k].geometry.coordinates) {
							minx = Math.min(minx, features[k].geometry.coordinates[i][0]);
							miny = Math.min(miny, features[k].geometry.coordinates[i][1]);
							maxx = Math.max(maxx, features[k].geometry.coordinates[i][0]);
							maxy = Math.max(maxy, features[k].geometry.coordinates[i][1]);
						}
					
						bounds = L.latLngBounds(L.latLng(miny,minx), L.latLng(maxy,maxx));
					}
				}
			}	
			map.fitBounds(bounds);	    					
		}		
	

	</script>
    
    <script>
        //--------------------------------------------------------------------------------
		// http://stackoverflow.com/a/11407464
		$(document).keypress(function(event){

			var keycode = (event.keyCode ? event.keyCode : event.which);
			if(keycode == '13'){
				$('#find').click();   
			}

		});    
	
		//http://stackoverflow.com/a/25359264
		$.urlParam = function(name){
			var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
			if (results==null){
			   return null;
			}
			else{
			   return results[1] || 0;
			}
		}    
	
        //--------------------------------------------------------------------------------
		// http://stackoverflow.com/a/16976927
		function ObjectLength_Modern( object ) {
			return Object.keys(object).length;
		}

		function ObjectLength_Legacy( object ) {
			var length = 0;
			for( var key in object ) {
				if( object.hasOwnProperty(key) ) {
					++length;
				}
			}
			return length;
		}


		 
	
	</script>    
	
	<script>
	function add_geojson(label) {
		var data  =  $('#' + label).val();
		
		switch (label) {
			case 'geojson1':
				geojson1 = JSON.parse(data);
				console.log(JSON.stringify(geojson1, null, 2));
				add_data(map1, geojson1);
				break;
				
			case 'geojson2':
				geojson2 = JSON.parse(data);
				console.log(JSON.stringify(geojson1, null, 2));
				add_data(map2, geojson2);
				break;
				
			default:
				break;
		}
	}
	</script>
	

  </head>
  <body>
    <h1>Compare distributions</h1>
    
    <div style="position:relative;">    
		<div style="float:left;width:40%;height:200px;margin:10px;">
			<textarea id="geojson1" rows="10" cols="50" style="line-height:1.4em;font-size:10px;font-family:monospace;">
{
"type": "FeatureCollection",
"features": [
{ "type": "Feature", "properties": { "id_no": 23115.0, "binomial": "Xenomys nelsoni", "presence": 1, "origin": 1, "seasonal": 1, "compiler": "IUCN", "year": 2008, "citation": "IUCN (International Union for Conservation of Nature)", "source": null, "dist_comm": null, "island": null, "subspecies": null, "subpop": null, "legend": "Extant (resident)", "tax_comm": null, "kingdom_na": "ANIMALIA", "phylum_nam": "CHORDATA", "class_name": "MAMMALIA", "order_name": "RODENTIA", "family_nam": "CRICETIDAE", "genus_name": "Xenomys", "code": "EN", "shape_Leng": 5.2722725297400004, "shape_Area": 0.40836024136400001 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -105.308574791999945, 19.73556506500006 ], [ -104.972410086999957, 19.766369780000048 ], [ -104.498491292999972, 19.556748561000063 ], [ -104.714809626999966, 19.366850786000043 ], [ -104.199608707999971, 19.325568661000034 ], [ -104.211167702999944, 19.112552896000068 ], [ -103.922408684999937, 19.202726837000057 ], [ -103.827919466999958, 18.760921167000049 ], [ -104.961769103999984, 19.313524246000043 ], [ -105.308574791999945, 19.73556506500006 ] ] ] } }
]
}

			</textarea>
			<br />			
			<button id="make" onclick="add_geojson('geojson1');">Add to map</button>
		</div>		
		
		
		</div>	
		<div style="float:left;width:40%;height:200px;margin:10px;">
			<textarea id="geojson2" rows="10" cols="50" style="line-height:1.4em;font-size:10px;font-family:monospace;">
{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.025833,19.481944]},"properties":{"name":1417805739,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42988<br />Estación de Biología Chamela, IBUNAM, 7 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805739\" target=\"_new\">1417805739</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.038,19.488]},"properties":{"name":1420769068,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM IBUNAM:CNMA:42987<br />7 km SE, Estacion de Biologia Chamela, IBUNAM.<br /><a href=\"http://www.gbif.org/occurrence/1420769068\" target=\"_new\">1420769068</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.025833,19.481944]},"properties":{"name":1417805484,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42987<br />Estación de Biología Chamela, IBUNAM, 7 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805484\" target=\"_new\">1417805484</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.025833,19.481944]},"properties":{"name":1417805610,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42989<br />Estación de Biología Chamela, IBUNAM, 7 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805610\" target=\"_new\">1417805610</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.038,19.483333]},"properties":{"name":1420769130,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM IBUNAM:CNMA:42984<br />6.75 km SE, Estacion de Biologia Chamela, IBUNAM.<br /><a href=\"http://www.gbif.org/occurrence/1420769130\" target=\"_new\">1420769130</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.058333,19.493056]},"properties":{"name":1417815630,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42984<br />Estación de Biología Chamela, IBUNAM, 4.75 km SSE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417815630\" target=\"_new\">1417815630</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.025833,19.481944]},"properties":{"name":1417805713,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42990<br />Estación de Biología Chamela, IBUNAM, 7 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805713\" target=\"_new\">1417805713</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.038,19.483333]},"properties":{"name":1420769343,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM IBUNAM:CNMA:42985<br />Estacion de Biologia 6.75 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1420769343\" target=\"_new\">1420769343</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.0325,19.488333]},"properties":{"name":1417811192,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42986<br />6 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417811192\" target=\"_new\">1417811192</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.0325,19.488333]},"properties":{"name":1417811255,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42985<br />6 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417811255\" target=\"_new\">1417811255</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.038,19.483333]},"properties":{"name":1420769322,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM IBUNAM:CNMA:42986<br />Estacion de Biologia Chamela IBUNAM, 6.75 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1420769322\" target=\"_new\">1420769322</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.038,19.483333]},"properties":{"name":1420769134,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM IBUNAM:CNMA:42991<br />Estacion de Biologia 6.75 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1420769134\" target=\"_new\">1420769134</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.025833,19.481944]},"properties":{"name":1417806008,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 42991<br />Estación de Biología Chamela, IBUNAM, 7 km SE Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417806008\" target=\"_new\">1417806008</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.391111,19.228611]},"properties":{"name":202107595,"popupContent":"Xenomys nelsoni Merriam, 1892<br />OMNH 26962<br />Don Tomas<br /><a href=\"http://www.gbif.org/occurrence/202107595\" target=\"_new\">202107595</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.034691,19.4883]},"properties":{"name":911668933,"popupContent":"Xenomys nelsoni Merriam, 1892<br />TTU 37788<br />6 KM SE CHAMELA<br /><a href=\"http://www.gbif.org/occurrence/911668933\" target=\"_new\">911668933</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.034691,19.4883]},"properties":{"name":911668980,"popupContent":"Xenomys nelsoni Merriam, 1892<br />TTU 37790<br />6 KM SE CHAMELA, UNAM ESTACION DE BIOLOGICA<br /><a href=\"http://www.gbif.org/occurrence/911668980\" target=\"_new\">911668980</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.034691,19.4883]},"properties":{"name":911668959,"popupContent":"Xenomys nelsoni Merriam, 1892<br />TTU 37789<br />6 KM SE CHAMELA, UNAM ESTACION DE BIOLOGICA<br /><a href=\"http://www.gbif.org/occurrence/911668959\" target=\"_new\">911668959</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.640759,19.305679]},"properties":{"name":202107409,"popupContent":"Xenomys nelsoni Merriam, 1892<br />OMNH 13005<br />0.5 mi W El Cobano<br /><a href=\"http://www.gbif.org/occurrence/202107409\" target=\"_new\">202107409</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.015833,19.526667]},"properties":{"name":1417792638,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 14521<br />6 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417792638\" target=\"_new\">1417792638</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.015833,19.526667]},"properties":{"name":1417792515,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 14522<br />6 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417792515\" target=\"_new\">1417792515</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.015833,19.526667]},"properties":{"name":1417792618,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 14523<br />6 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417792618\" target=\"_new\">1417792618</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.015833,19.526667]},"properties":{"name":1417792481,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 14520<br />6 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417792481\" target=\"_new\">1417792481</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.996667,19.526667]},"properties":{"name":1417805957,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 12142<br />8 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805957\" target=\"_new\">1417805957</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.996667,19.526667]},"properties":{"name":1417806098,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 12139<br />8 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417806098\" target=\"_new\">1417806098</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.996667,19.526667]},"properties":{"name":1417806212,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 12141<br />8 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417806212\" target=\"_new\">1417806212</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.996667,19.526667]},"properties":{"name":1417805991,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 12140<br />8 km E Chamela<br /><a href=\"http://www.gbif.org/occurrence/1417805991\" target=\"_new\">1417805991</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065365195,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 033938<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065365195\" target=\"_new\">1065365195</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.93438557920224,19.31588739556488]},"properties":{"name":1065374884,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 033939<br />Mixcuate (Miscuate)<br /><a href=\"http://www.gbif.org/occurrence/1065374884\" target=\"_new\">1065374884</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065382971,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 033941<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065382971\" target=\"_new\">1065382971</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.93438557920224,19.31588739556488]},"properties":{"name":1065343132,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 033940<br />Mixcuate (Miscuate)<br /><a href=\"http://www.gbif.org/occurrence/1065343132\" target=\"_new\">1065343132</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.084724]},"properties":{"name":1262401779,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10666<br />2 kms N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401779\" target=\"_new\">1262401779</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.075695]},"properties":{"name":1262401803,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10682<br />1 km N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401803\" target=\"_new\">1262401803</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.084724]},"properties":{"name":1262401768,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10635<br />2 kms N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401768\" target=\"_new\">1262401768</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.066667]},"properties":{"name":1262401458,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10607<br />Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401458\" target=\"_new\">1262401458</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.075695]},"properties":{"name":1262401787,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10658<br />1 km N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401787\" target=\"_new\">1262401787</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.28722286849283,19.089616872651124]},"properties":{"name":45914633,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LSUMZ 12623<br />2 km N Tlapeixtes near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/45914633\" target=\"_new\">45914633</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.075695]},"properties":{"name":1262401771,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10656<br />1 km N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401771\" target=\"_new\">1262401771</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.084724]},"properties":{"name":1262401801,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10634<br />2 kms N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401801\" target=\"_new\">1262401801</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.084724]},"properties":{"name":1262401763,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10617<br />2 kms N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401763\" target=\"_new\">1262401763</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.283333,19.075695]},"properties":{"name":1262401786,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 10657<br />1 km N of Tlapeixtes, near Manzanillo<br /><a href=\"http://www.gbif.org/occurrence/1262401786\" target=\"_new\">1262401786</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.233333,19.225695]},"properties":{"name":1262402225,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 11109<br />1 km N Comatlan<br /><a href=\"http://www.gbif.org/occurrence/1262402225\" target=\"_new\">1262402225</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.233333,19.225695]},"properties":{"name":1262402209,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 11110<br />1 km N Comatlan<br /><a href=\"http://www.gbif.org/occurrence/1262402209\" target=\"_new\">1262402209</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.882873,19.134743]},"properties":{"name":1262398952,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UAZ UAZ 08198<br />approx. 5 klms SE Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1262398952\" target=\"_new\">1262398952</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.930833,19.166667]},"properties":{"name":1417813570,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 5829<br />Pueblo Juárez<br /><a href=\"http://www.gbif.org/occurrence/1417813570\" target=\"_new\">1417813570</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.930833,19.166667]},"properties":{"name":1417813571,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 5664<br />Pueblo Juárez<br /><a href=\"http://www.gbif.org/occurrence/1417813571\" target=\"_new\">1417813571</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.930833,19.166667]},"properties":{"name":1417813595,"popupContent":"Xenomys nelsoni Merriam, 1892<br />IBUNAM 5663<br />Pueblo Juárez<br /><a href=\"http://www.gbif.org/occurrence/1417813595\" target=\"_new\">1417813595</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.89906906374132,19.13531105967777]},"properties":{"name":1065334411,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 013913<br />Pueblo Juarez, 5 km SE<br /><a href=\"http://www.gbif.org/occurrence/1065334411\" target=\"_new\">1065334411</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.89906906374132,19.13531105967777]},"properties":{"name":1065357219,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 013912<br />Pueblo Juarez, 5 km SE<br /><a href=\"http://www.gbif.org/occurrence/1065357219\" target=\"_new\">1065357219</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065374505,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011527<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065374505\" target=\"_new\">1065374505</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065427346,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011528<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065427346\" target=\"_new\">1065427346</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065397403,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011529<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065397403\" target=\"_new\">1065397403</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065400705,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011530<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065400705\" target=\"_new\">1065400705</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065406212,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011534<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065406212\" target=\"_new\">1065406212</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065393733,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011533<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065393733\" target=\"_new\">1065393733</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065401482,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011535<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065401482\" target=\"_new\">1065401482</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065345692,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011531<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065345692\" target=\"_new\">1065345692</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.8333,19.0833]},"properties":{"name":1065354125,"popupContent":"Xenomys nelsoni Merriam, 1892<br />LACM 011532<br />Pueblo Juarez<br /><a href=\"http://www.gbif.org/occurrence/1065354125\" target=\"_new\">1065354125</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.96444,18.93417]},"properties":{"name":1417964870,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NMNH-SI NO DISPONIBLE<br />ARMERIA<br /><a href=\"http://www.gbif.org/occurrence/1417964870\" target=\"_new\">1417964870</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.91,19.159722]},"properties":{"name":1438701807,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO DISPONIBLE<br />Hacienda Magdalena, Coquimatlán, Col.<br /><a href=\"http://www.gbif.org/occurrence/1438701807\" target=\"_new\">1438701807</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.91,19.159722]},"properties":{"name":1417861351,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO DISPONIBLE<br />Hacienda Magdalena, Coquimatlán, Col.<br /><a href=\"http://www.gbif.org/occurrence/1417861351\" target=\"_new\">1417861351</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958,19.483]},"properties":{"name":370428010,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NA NA / 1587 / B033<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/370428010\" target=\"_new\">370428010</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.018799,19.526671]},"properties":{"name":911676286,"popupContent":"Xenomys nelsoni Merriam, 1892<br />TTU 45215<br />6 KM E CHAMELA<br /><a href=\"http://www.gbif.org/occurrence/911676286\" target=\"_new\">911676286</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.008,19.408]},"properties":{"name":370428129,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NA NA / 1897 / B033<br />Teopa km 47 carretera Melaque-Puerto Vallarta<br /><a href=\"http://www.gbif.org/occurrence/370428129\" target=\"_new\">370428129</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1438905213,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1438905213\" target=\"_new\">1438905213</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958,19.483]},"properties":{"name":370428052,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NA NA / 1604 / B033<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/370428052\" target=\"_new\">370428052</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958,19.483]},"properties":{"name":370428078,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NA NA / 1784 / B033<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/370428078\" target=\"_new\">370428078</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.059722,19.515833]},"properties":{"name":1417861545,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UMMZ NO DISPONIBLE<br />Bahía de Chamela, mpio.La Huerta, Jalisco<br /><a href=\"http://www.gbif.org/occurrence/1417861545\" target=\"_new\">1417861545</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1418892471,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1418892471\" target=\"_new\">1418892471</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1418892472,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1418892472\" target=\"_new\">1418892472</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.949722,18.93]},"properties":{"name":1438701915,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UMMZ 80945<br />Bahía de Chamela, mpio. de Armería.<br /><a href=\"http://www.gbif.org/occurrence/1438701915\" target=\"_new\">1438701915</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1418892455,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1418892455\" target=\"_new\">1418892455</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-103.949722,18.93]},"properties":{"name":1417861649,"popupContent":"Xenomys nelsoni Merriam, 1892<br />UMMZ 80945<br />Bahía de Chamela, mpio. de Armería.<br /><a href=\"http://www.gbif.org/occurrence/1417861649\" target=\"_new\">1417861649</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1438905266,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1438905266\" target=\"_new\">1438905266</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1438905243,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1438905243\" target=\"_new\">1438905243</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1418892583,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1418892583\" target=\"_new\">1418892583</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958333,19.483333]},"properties":{"name":1438905432,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/1438905432\" target=\"_new\">1438905432</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-104.958,19.483]},"properties":{"name":370428108,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NA NA / 1791 / B033<br />Reserva Chamela Cuixmala, Cumbres 1<br /><a href=\"http://www.gbif.org/occurrence/370428108\" target=\"_new\">370428108</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.008333,19.408333]},"properties":{"name":1418890803,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Teopa km 47 carretera Melaque-Puerto Vallarta<br /><a href=\"http://www.gbif.org/occurrence/1418890803\" target=\"_new\">1418890803</a><br />"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[-105.008333,19.408333]},"properties":{"name":1438903581,"popupContent":"Xenomys nelsoni Merriam, 1892<br />NO DISPONIBLE NO APLICA<br />Teopa km 47 carretera Melaque-Puerto Vallarta<br /><a href=\"http://www.gbif.org/occurrence/1438903581\" target=\"_new\">1438903581</a><br />"}},{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-105.058333,19.493056],[-105.059722,19.515833],[-105.018799,19.526671],[-104.996667,19.526667],[-103.640759,19.305679],[-103.949722,18.93],[-103.96444,18.93417],[-104.283333,19.066667],[-105.008,19.408],[-105.008333,19.408333],[-105.058333,19.493056]]]}}]}
			</textarea>
			<br />			
			<button id="make" onclick="add_geojson('geojson2');">Add to map</button>
		</div>	
	</div>
    
    <div style="position:relative;">
		<div id="map1" style="float:left;width:40%; height:500px;margin:10px;border:1px solid rgb(192,192,192);"></div>	
		<div id="map2" style="float:left;width:40%; height:500px;margin:10px;border:1px solid rgb(192,192,192);"></div>	
	</div>
		
	<script>
		create_maps();
		
		
		
		
			
	</script>
	

  
  </body>
</html>
